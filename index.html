<!DOCTYPE html><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>A Game Of Surveys</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
  background: white;
}

.level {
  position: absolute;
  top: 10px;
  left: 10px;
  font-size: 16px;
}

.progress {
  font-size: 28px;
  margin-bottom: 20px;
}

.container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
}

.options label {
  display: block;
  font-size: 18px;
  margin: 10px 0;
}

select, textarea {
  font-size: 16px;
  padding: 6px;
  margin: 5px;
}

button {
  margin-top: 20px;
  padding: 10px 25px;
  font-size: 16px;
}
</style>
</head>

<body>

<div id="levelText" class="level">Level 0: stuff before surveys</div>

<div class="container">
  <div id="progress" class="progress"></div>
  <div id="question"></div>
  <div id="options" class="options"></div>
  <button id="continueBtn">Continue</button>
</div>

<script>
let level = 0;
let step = 0;

const level0 = [
  { type: "message", text: "Hello, this survey will take approximately 2.5 minutes to complete, so please answer honestly!!!" },
  { type: "radio", text: "What is your gender?", options: ["Man", "Woman"] },
  { type: "radio", text: "How old are you?", options: ["Under 18", "25-34", "35-44", "45-56", "57-70", "Over 70 years old"] },
  { type: "birth", text: "What is your year of birth?" },
  { type: "radio", text: "What is your job?", options: ["Engineer", "Firefighter", "College"] }
];

const level1 = [
  { type: "message", text: "Hello, this survey will take approximately 7 minutes to complete. Please answer carefully." },
  { type: "radio", text: "Do you enjoy problem solving?", options: ["Yes", "No"] },
  { type: "text", text: "What is your master’s degree?" },
  { type: "text", text: "What made it good? (at least 10 words)", minWords: 10 }
];

const qEl = document.getElementById("question");
const oEl = document.getElementById("options");
const btn = document.getElementById("continueBtn");
const lvlText = document.getElementById("levelText");
const prog = document.getElementById("progress");

function disqualify(msg) {
  qEl.textContent = msg;
  oEl.innerHTML = "";
  btn.style.display = "none";
}

function load() {
  oEl.innerHTML = "";
  btn.disabled = false;

  const data = level === 0 ? level0 : level1;
  const q = data[step];

  prog.textContent = level === 1 ? `${step + 1} / ${level1.length}` : "";
  qEl.textContent = q.text;

  if (q.type === "message") return;

  if (q.type === "radio") {
    btn.disabled = true;
    q.options.forEach(opt => {
      const label = document.createElement("label");
      label.innerHTML = `<input type="radio" name="ans"> ${opt}`;
      oEl.appendChild(label);
    });
    document.querySelectorAll("input").forEach(r => {
      r.onchange = () => btn.disabled = false;
    });
  }

  if (q.type === "birth") {
    const month = document.createElement("select");
    const year = document.createElement("select");

    month.innerHTML = "<option value=''>Month</option>" +
      ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
      .map(m => `<option>${m}</option>`).join("");

    year.innerHTML = "<option value=''>Year</option>";
    for (let y = 2025; y >= 1900; y--) {
      year.innerHTML += `<option>${y}</option>`;
    }

    oEl.append(month, year);
    btn.disabled = true;
    month.onchange = year.onchange = () => {
      btn.disabled = !(month.value && year.value);
    };
  }

  if (q.type === "text") {
    const t = document.createElement("textarea");
    oEl.appendChild(t);
    btn.disabled = true;
    t.oninput = () => {
      if (q.minWords) {
        btn.disabled = t.value.trim().split(/\s+/).length < q.minWords;
      } else {
        btn.disabled = t.value.trim() === "";
      }
    };
  }
}

btn.onclick = () => {
  const data = level === 0 ? level0 : level1;
  const q = data[step];

  if (q.type === "radio" && q.text === "How old are you?") {
    const selected = document.querySelector("input:checked").nextSibling.textContent.trim();
    if (selected === "57-70" || selected === "Over 70 years old") {
      disqualify("You were disqualified from the survey because you are too old!!!");
      return;
    }
  }

  step++;

  if (level === 0 && step === level0.length) {
    lvlText.style.display = "none";
    qEl.textContent = "YOU HAVE QUALIFIED FOR THE REAL SURVEYS!!!";
    oEl.innerHTML = "";
    btn.onclick = startLevel1;
    return;
  }

  if (step >= data.length) {
    qEl.textContent = "End of Level 1 (more coming soon)";
    oEl.innerHTML = "";
    btn.style.display = "none";
    return;
  }

  load();
};

function startLevel1() {
  level = 1;
  step = 0;
  lvlText.textContent = "Level 1: The real survey";
  lvlText.style.display = "block";
  btn.onclick = null;
  load();
}

load();
</script>

</body>
</html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>A Game Of Surveys</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
}
.center {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px;
}
</style>
</head>
<body>
  <div class="center">If you see ONLY this text, HTML is fixed ✅</div>
</body>
</html>
